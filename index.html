<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Practice IT Assessment</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Prop Types (Required dependency for Recharts UMD) -->
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    
    <!-- Recharts (Pinned Version for Stability) -->
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 300ms; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;
        const { ResponsiveContainer, Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Legend } = Recharts;

        // --- Icons (SVG Components) ---
        const IconShield = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
        );
        const IconActivity = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
        );
        const IconCpu = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="4" y="4" width="16" height="16" rx="2" ry="2"/><rect x="9" y="9" width="6" height="6"/><line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/><line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/><line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/><line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/></svg>
        );
        const IconCheck = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"/></svg>
        );
        const IconAlert = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        );
        const IconChevronDown = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="6 9 12 15 18 9"/></svg>
        );
        const IconChevronUp = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="18 15 12 9 6 15"/></svg>
        );

        // --- Data ---
        const QUESTIONS = [
            {
                id: 1, category: "Security",
                text: "How does your IT provider demonstrate their own internal security and compliance standards?",
                options: [
                    { label: "They never mentioned their own IT security and compliance.", score: 0, insight: "Lack of transparency suggests potential gaps in their own security posture." },
                    { label: "They claim to follow best practices, but cannot provide documentation/certifications.", score: 5, insight: "Without proof, your practice assumes the risk of their potential negligence." },
                    { label: "They provide evidence of regular external audits and hold certifications (ISO 27001, SOC 2).", score: 10, insight: "Third-party validation proves they practice what they preach." }
                ]
            },
            {
                id: 2, category: "Security",
                text: "What does your provider's security and HIPAA compliance package look like?",
                options: [
                    { label: "We mostly just have antivirus and a firewall. Security and HIPAA is largely up to us.", score: 0, insight: "Basic tools are insufficient against modern ransomware. Compliance is likely at risk." },
                    { label: "Standard tools (MFA, basic antivirus), but assessments are one-off.", score: 5, insight: "Standard tools help, but lack the active monitoring needed to stop active threats." },
                    { label: "Comprehensive: MFA, EDR/MDR, and conduct regular assessments.", score: 10, insight: "This layered approach is the gold standard for protecting patient data." }
                ]
            },
            {
                id: 3, category: "Efficiency",
                text: "How involved is your IT provider with your EHR/EMR and clinical workflows?",
                options: [
                    { label: "They don't touch the EHR. We call the vendor for everything.", score: 0, insight: "Siloed systems cause unnecessary friction and administrative burden for staff." },
                    { label: "They help with basic connectivity but don't understand clinical workflows.", score: 5, insight: "Connectivity is baseline. Value comes from optimizing how clinical software works." },
                    { label: "They have direct relationships with our vendor and optimize our workflows.", score: 10, insight: "Deep integration allows IT to solve clinical headaches, not just fix printers." }
                ]
            },
            {
                id: 4, category: "Strategy",
                text: "How many other medical practices does your IT provider support?",
                options: [
                    { label: "We are one of their few medical clients; they do general small business IT.", score: 0, insight: "Generalists often miss critical HIPAA nuances and specific medical workflow needs." },
                    { label: "They have a handful of medical clients, but it's a mix of industries.", score: 5, insight: "They know basics, but may lack deep expertise in specialized medical systems." },
                    { label: "They specialize in healthcare, bringing us 'best practices' learned from others.", score: 10, insight: "Specialization means they solve problems faster because they've seen them before." }
                ]
            },
            {
                id: 5, category: "Strategy",
                text: "How is your provider guiding you on AI adoption?",
                options: [
                    { label: "They haven't mentioned it, or just said 'be careful'.", score: 0, insight: "Ignoring AI puts you behind competitors who are already exploring efficiency tools." },
                    { label: "Generic advice like 'use copilot' and an AI policy template.", score: 5, insight: "Templates are okay, but you need specific guidance on clinical data privacy." },
                    { label: "Actively educating us, piloting tools, and setting up safeguards.", score: 10, insight: "Proactive guidance harnesses AI power without compromising patient trust." }
                ]
            },
            {
                id: 6, category: "Efficiency",
                text: "How would you describe your relationship regarding planning and strategy?",
                options: [
                    { label: "Break/Fix. We call when something breaks; they fix it.", score: 0, insight: "Reactive support leads to unpredictable costs and sudden, disruptive failures." },
                    { label: "Some proactive support, but we rarely discuss strategy or long-term roadmaps.", score: 5, insight: "Stability is good, but without strategy, your technology isn't helping the practice grow." },
                    { label: "Significant partnership with regular roadmap meetings.", score: 10, insight: "Regular alignment ensures technology investments directly support your business goals." }
                ]
            },
            {
                id: 7, category: "Strategy",
                text: "Is your provider investing in specialized expertise for the future of healthcare?",
                options: [
                    { label: "No, they offer the same services they did 5 years ago.", score: 0, insight: "Stagnant services mean your practice isn't benefiting from modern efficiency gains." },
                    { label: "Keeping the lights on, but no new healthcare innovation teams.", score: 5, insight: "Maintenance is necessary, but innovation is what drives long-term practice value." },
                    { label: "Yes, dedicated experts and next-gen vendor relationships.", score: 10, insight: "Access to specialists keeps your practice ahead of regulatory and technological curves." }
                ]
            },
            {
                id: 8, category: "Efficiency",
                text: "Is your provider active in the medical community?",
                options: [
                    { label: "No, they are invisible outside of our office.", score: 0, insight: "Isolation suggests they aren't learning from the broader healthcare community." },
                    { label: "Occasional event attendance but not deeply involved.", score: 5, insight: "Participation is positive, but deeper involvement yields better industry insights." },
                    { label: "Yes, supports societies, speaks at events, integrated in the community.", score: 10, insight: "Deep community ties often translate to faster problem-solving and better leverage." }
                ]
            },
            {
                id: 9, category: "Security",
                text: "The 'Closet' Test: What is the state of your physical IT infrastructure?",
                options: [
                    { label: "A mess of tangled cables and dust. We try not to look at it.", score: 0, insight: "Physical neglect often mirrors digital neglect. Heat and dust shorten hardware life." },
                    { label: "It's functional but cluttered.", score: 5, insight: "Functionality is key, but disorder increases the risk of accidental disconnects." },
                    { label: "Immaculate, organized, labeled, and secure.", score: 10, insight: "Organized infrastructure reduces troubleshooting time and signals professional management." }
                ]
            },
            {
                id: 10, category: "Strategy",
                text: "How does the provider advise on infrastructure (Cloud vs. On-Premise)?",
                options: [
                    { label: "They just fix servers we have; haven't discussed a shift.", score: 0, insight: "Aging servers are a liability. A lack of discussion suggests complacency." },
                    { label: "They have cloud services, but strategy is unclear.", score: 5, insight: "Cloud is a tool, not a strategy. You need a plan that fits your specific financial model." },
                    { label: "Clear strategy based on performance, cost, and security specifically for us.", score: 10, insight: "A tailored strategy ensures you aren't overpaying for unnecessary infrastructure." }
                ]
            },
            {
                id: 11, category: "Efficiency",
                text: "How well does your provider coordinate with third-party vendors (EHR, PACS, Labs)?",
                options: [
                    { label: "We handle calls ourselves; IT avoids them.", score: 0, insight: "You are paying expensive clinical staff to do IT work." },
                    { label: "Occasional help, but mostly tell us to call the vendor.", score: 5, insight: "Partial help is inconsistent. IT should own technical resolutions, not you." },
                    { label: "They own vendor relationships and resolve issues directly.", score: 10, insight: "Single-point-of-contact support dramatically reduces staff frustration." }
                ]
            },
            {
                id: 12, category: "Security",
                text: "How prepared is your practice for a disaster (ransomware, power loss)?",
                options: [
                    { label: "Not sure; backups exist but aren't tested.", score: 0, insight: "This is critical. You need to know that you can get back up and running quickly if an incident occurs." },
                    { label: "Backups exist, but no recovery practice in 12 months.", score: 5, insight: "That is great that you have backups, but you need tested recovery to understand the impact." },
                    { label: "Documented plan, tested recoveries, clear recovery-time targets.", score: 10, insight: "Verified recovery capability is the only true insurance against data loss." }
                ]
            }
        ];

        // --- Components ---

        const IntroView = ({ onStart }) => (
            <div className="max-w-4xl mx-auto px-4 py-12">
                <div className="text-center mb-12">
                    <h1 className="text-4xl font-bold text-slate-900 mb-4">Medical Practice IT Assessment</h1>
                    <p className="text-xl text-slate-600">Discover where your IT partner stands in 3 minutes.</p>
                </div>

                <div className="grid md:grid-cols-3 gap-6 mb-12">
                    <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 text-center">
                        <div className="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 text-blue-600">
                            <IconShield />
                        </div>
                        <h3 className="font-semibold text-lg mb-2">Security</h3>
                        <p className="text-sm text-slate-500">Compliance & Risk Management</p>
                    </div>
                    <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 text-center">
                        <div className="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600">
                            <IconActivity />
                        </div>
                        <h3 className="font-semibold text-lg mb-2">Efficiency</h3>
                        <p className="text-sm text-slate-500">Workflow & Operations</p>
                    </div>
                    <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 text-center">
                        <div className="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 text-purple-600">
                            <IconCpu />
                        </div>
                        <h3 className="font-semibold text-lg mb-2">Strategy</h3>
                        <p className="text-sm text-slate-500">Future-Proofing & Innovation</p>
                    </div>
                </div>

                <div className="text-center">
                    <button 
                        onClick={onStart}
                        className="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-12 rounded-lg text-lg transition-colors shadow-lg"
                    >
                        Start Assessment
                    </button>
                </div>
            </div>
        );

        const QuizView = ({ questionIndex, answers, onAnswer, onNext, onBack }) => {
            const question = QUESTIONS[questionIndex];
            const currentAnswer = answers[question.id];
            
            return (
                <div className="max-w-2xl mx-auto px-4 py-8">
                    {/* Progress Bar */}
                    <div className="mb-8">
                        <div className="flex justify-between text-sm text-slate-500 mb-2">
                            <span>Question {questionIndex + 1} of {QUESTIONS.length}</span>
                            <span>{Math.round(((questionIndex) / QUESTIONS.length) * 100)}% Complete</span>
                        </div>
                        <div className="h-2 bg-slate-200 rounded-full">
                            <div 
                                className="h-full bg-blue-600 rounded-full transition-all duration-300"
                                style={{ width: `${((questionIndex + 1) / QUESTIONS.length) * 100}%` }}
                            ></div>
                        </div>
                    </div>

                    {/* Question Card */}
                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8">
                        <span className="inline-block px-3 py-1 bg-slate-100 text-slate-600 text-xs font-semibold rounded-full mb-4 uppercase tracking-wide">
                            {question.category}
                        </span>
                        
                        <h2 className="text-2xl font-bold text-slate-900 mb-8 leading-tight">
                            {question.text}
                        </h2>

                        <div className="space-y-4">
                            {question.options.map((opt, idx) => {
                                const isSelected = currentAnswer?.score === opt.score;
                                return (
                                    <button
                                        key={idx}
                                        onClick={() => onAnswer(question.id, opt.score, opt.label)}
                                        className={`w-full text-left p-4 rounded-lg border-2 transition-all ${
                                            isSelected 
                                            ? 'border-blue-600 bg-blue-50' 
                                            : 'border-slate-200 hover:border-blue-300'
                                        }`}
                                    >
                                        <div className="flex items-start gap-3">
                                            <div className={`w-5 h-5 rounded-full border-2 flex-shrink-0 mt-0.5 flex items-center justify-center ${
                                                isSelected ? 'border-blue-600 bg-blue-600' : 'border-slate-300'
                                            }`}>
                                                {isSelected && <IconCheck className="w-3 h-3 text-white" />}
                                            </div>
                                            <span className={`${isSelected ? 'text-blue-900 font-medium' : 'text-slate-700'}`}>
                                                {opt.label}
                                            </span>
                                        </div>
                                    </button>
                                );
                            })}
                        </div>
                        
                        <div className="mt-6 pt-6 border-t border-slate-100">
                             <button
                                onClick={() => onAnswer(question.id, 0, "I'm not sure")}
                                className={`w-full text-center p-3 rounded-lg text-sm transition-colors ${
                                    currentAnswer?.label === "I'm not sure"
                                    ? 'bg-slate-200 text-slate-800 font-medium'
                                    : 'text-slate-400 hover:text-slate-600 hover:bg-slate-50'
                                }`}
                            >
                                I'm not sure
                            </button>
                        </div>
                    </div>

                    {/* Navigation */}
                    <div className="flex justify-between mt-8">
                        <button 
                            onClick={onBack}
                            disabled={questionIndex === 0}
                            className={`px-6 py-3 rounded-lg font-medium transition-colors ${
                                questionIndex === 0 
                                ? 'text-slate-300 cursor-not-allowed' 
                                : 'text-slate-600 hover:bg-white'
                            }`}
                        >
                            Back
                        </button>
                        
                        {currentAnswer && (
                            <button 
                                onClick={onNext}
                                className="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold shadow-md transition-colors"
                            >
                                {questionIndex === QUESTIONS.length - 1 ? "See Results" : "Next Question"}
                            </button>
                        )}
                    </div>
                </div>
            );
        };

        const AccordionItem = ({ category, questions, answers }) => {
            const [isOpen, setIsOpen] = useState(false);
            
            return (
                <div className="border border-slate-200 rounded-lg bg-white overflow-hidden mb-4">
                    <button 
                        onClick={() => setIsOpen(!isOpen)}
                        className="w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors"
                    >
                        <span className="font-semibold text-slate-700">{category}</span>
                        {isOpen ? <IconChevronUp className="text-slate-500 w-5 h-5"/> : <IconChevronDown className="text-slate-500 w-5 h-5"/>}
                    </button>
                    
                    {isOpen && (
                        <div className="p-4 space-y-6">
                            {questions.map(q => {
                                const userAns = answers[q.id];
                                // Find the matching option object to get the specific insight
                                const matchingOption = q.options.find(opt => opt.label === userAns.label);
                                const insightText = matchingOption ? matchingOption.insight : "No insight available.";

                                return (
                                    <div key={q.id} className="pb-4 border-b border-slate-100 last:border-0 last:pb-0">
                                        <p className="font-medium text-slate-900 mb-2">{q.text}</p>
                                        <div className="flex items-start gap-2 mb-2">
                                            <span className="text-xs font-bold bg-slate-200 text-slate-600 px-2 py-0.5 rounded flex-shrink-0">You Answered:</span>
                                            <p className="text-sm text-slate-600">{userAns.label}</p>
                                        </div>
                                        {userAns.label !== "I'm not sure" && (
                                            <div className="flex gap-3 bg-blue-50 p-3 rounded-lg border border-blue-100 mt-3">
                                                <IconShield className="w-5 h-5 text-blue-600 flex-shrink-0" />
                                                <p className="text-sm text-blue-800 italic">{insightText}</p>
                                            </div>
                                        )}
                                    </div>
                                );
                            })}
                        </div>
                    )}
                </div>
            );
        };

        const ResultsView = ({ answers, onRetake }) => {
            // Calculate Score
            const totalScore = Object.values(answers).reduce((acc, curr) => acc + curr.score, 0);
            
            // Calculate Category Scores for Radar
            const catScores = QUESTIONS.reduce((acc, q) => {
                const s = answers[q.id]?.score || 0;
                acc[q.category] = (acc[q.category] || 0) + s;
                return acc;
            }, {});

            const radarData = [
                { subject: 'Security', A: catScores['Security'], B: 22, fullMark: 40 },
                { subject: 'Strategy', A: catScores['Strategy'], B: 20, fullMark: 40 },
                { subject: 'Efficiency', A: catScores['Efficiency'], B: 18, fullMark: 40 },
            ];

            // Determine Tier & Actions
            let tier = {};
            if (totalScore <= 50) {
                tier = {
                    name: "Critical Risk Zone",
                    color: "text-red-600",
                    bg: "bg-red-50",
                    border: "border-red-200",
                    gradient: "from-red-500 to-red-600",
                    diagnosis: "Your provider is functioning as a utility mechanic, not a strategic partner. Your practice is likely overexposed to security risks.",
                    actions: [
                        "You need to have a second opinion",
                        "You are most likely missing key opportunities for the practice",
                        "There are immediate needs to address to avoid substantial problems"
                    ]
                };
            } else if (totalScore <= 85) {
                tier = {
                    name: "Improvement Needed",
                    color: "text-amber-600",
                    bg: "bg-amber-50",
                    border: "border-amber-200",
                    gradient: "from-amber-500 to-amber-600",
                    diagnosis: "Your IT support is functional but generic. They're keeping the lights on, but aren't helping you optimize or grow.",
                    actions: [
                        "A second opinion would be helpful, but doesn't necessarily mean a switch",
                        "You may need to find AI guidance and expertise elsewhere",
                        "Review the gaps identified here with your IT provider"
                    ]
                };
            } else {
                tier = {
                    name: "High-Maturity Partner",
                    color: "text-emerald-600",
                    bg: "bg-emerald-50",
                    border: "border-emerald-200",
                    gradient: "from-emerald-500 to-emerald-600",
                    diagnosis: "Congratulations! You have a sophisticated IT partner who understands healthcare. You're well-positioned for the future.",
                    actions: [
                        "You are in a good spot from your IT partner",
                        "May not hurt to see if there are areas for improvement in innovation"
                    ]
                };
            }

            return (
                <div className="max-w-4xl mx-auto px-4 py-8 pb-20">
                    {/* Hero Result */}
                    <div className={`text-center py-10 rounded-2xl bg-gradient-to-r ${tier.gradient} text-white mb-8 shadow-lg`}>
                        <h2 className="text-3xl font-bold mb-2">{tier.name}</h2>
                        <div className="text-6xl font-black mb-4">{totalScore}<span className="text-2xl font-medium opacity-80">/120</span></div>
                        <p className="max-w-2xl mx-auto px-4 text-white/90 text-lg">{tier.diagnosis}</p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-8 mb-12">
                        {/* Radar Chart */}
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col items-center">
                            <h3 className="font-bold text-slate-800 mb-4">Performance vs. Industry Avg</h3>
                            <div className="w-full h-64">
                                <ResponsiveContainer width="100%" height="100%">
                                    <RadarChart cx="50%" cy="50%" outerRadius="80%" data={radarData}>
                                        <PolarGrid />
                                        <PolarAngleAxis dataKey="subject" />
                                        <PolarRadiusAxis angle={30} domain={[0, 40]} />
                                        <Radar name="Your Score" dataKey="A" stroke="#2563eb" fill="#3b82f6" fillOpacity={0.6} />
                                        <Radar name="Benchmark" dataKey="B" stroke="#94a3b8" fill="#cbd5e1" fillOpacity={0.4} />
                                        <Legend />
                                    </RadarChart>
                                </ResponsiveContainer>
                            </div>
                        </div>

                        {/* Action Steps */}
                        <div className="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                            <h3 className="font-bold text-slate-800 mb-6 flex items-center gap-2">
                                <IconActivity className="text-blue-600" /> Recommended Next Steps
                            </h3>
                            <ul className="space-y-4">
                                {tier.actions.map((action, idx) => (
                                    <li key={idx} className="flex items-start gap-3">
                                        <div className={`mt-1 p-1 rounded-full ${tier.bg}`}>
                                            <IconCheck className={`w-4 h-4 ${tier.color}`} />
                                        </div>
                                        <span className="text-slate-700 font-medium">{action}</span>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    </div>

                    {/* Detailed Breakdown */}
                    <div className="mb-12">
                        <h3 className="text-xl font-bold text-slate-800 mb-6">Detailed Analysis</h3>
                        {['Security', 'Strategy', 'Efficiency'].map(cat => (
                            <AccordionItem 
                                key={cat} 
                                category={cat} 
                                questions={QUESTIONS.filter(q => q.category === cat)}
                                answers={answers}
                            />
                        ))}
                    </div>

                    <div className="text-center mb-8">
                        <button 
                            onClick={onRetake}
                            className="text-slate-500 hover:text-slate-800 font-medium flex items-center gap-2 mx-auto"
                        >
                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                            Retake Assessment
                        </button>
                    </div>

                    {/* Disclaimer */}
                    <div className="text-center max-w-2xl mx-auto border-t border-slate-200 pt-6">
                        <p className="text-xs text-slate-400 leading-relaxed">
                            Disclaimer: This assessment is self-reported and reflects the user's perception of their IT environment. It does not constitute a formal technical audit or professional legal/compliance advice. Expert confirmation is recommended before making critical infrastructure decisions.
                        </p>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('intro'); // intro, quiz, results
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [answers, setAnswers] = useState({});

            const handleStart = () => {
                setView('quiz');
                setCurrentQIndex(0);
                setAnswers({});
            };

            const handleAnswer = (qId, score, label) => {
                setAnswers(prev => ({
                    ...prev,
                    [qId]: { score, label }
                }));
            };

            const handleNext = () => {
                if (currentQIndex < QUESTIONS.length - 1) {
                    setCurrentQIndex(prev => prev + 1);
                } else {
                    setView('results');
                }
            };

            const handleBack = () => {
                if (currentQIndex > 0) {
                    setCurrentQIndex(prev => prev - 1);
                }
            };

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-900">
                    {/* Header */}
                    <div className="bg-white border-b border-slate-200 py-4 sticky top-0 z-10">
                        <div className="max-w-4xl mx-auto px-4 flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <IconShield className="text-blue-600" />
                                <span className="font-bold text-lg tracking-tight">MedITCheck</span>
                            </div>
                            {view === 'quiz' && (
                                <span className="text-xs font-mono text-slate-400">Q{currentQIndex + 1}/{QUESTIONS.length}</span>
                            )}
                        </div>
                    </div>

                    {view === 'intro' && <IntroView onStart={handleStart} />}
                    {view === 'quiz' && (
                        <QuizView 
                            questionIndex={currentQIndex}
                            answers={answers}
                            onAnswer={handleAnswer}
                            onNext={handleNext}
                            onBack={handleBack}
                        />
                    )}
                    {view === 'results' && <ResultsView answers={answers} onRetake={handleStart} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
